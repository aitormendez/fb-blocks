"use strict";(globalThis.webpackChunkfb_blocks=globalThis.webpackChunkfb_blocks||[]).push([[364,564],{2828:(e,t,i)=>{i.d(t,{h:()=>r});var s=i(8933),o=i(7607);class r{#e;src=(0,o.signal)("");referrerPolicy=null;get iframe(){return this.#e}constructor(e){this.#e=e,e.setAttribute("frameBorder","0"),e.setAttribute("aria-hidden","true"),e.setAttribute("allow","autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope"),null!==this.referrerPolicy&&e.setAttribute("referrerpolicy",this.referrerPolicy)}setup(){(0,o.listenEvent)(window,"message",this.#t.bind(this)),(0,o.listenEvent)(this.#e,"load",this.onLoad.bind(this)),(0,o.effect)(this.#i.bind(this))}#i(){const e=this.src();if(!e.length)return void this.#e.setAttribute("src","");const t=(0,o.peek)((()=>this.buildParams()));this.#e.setAttribute("src",(0,s.xF)(e,t))}postMessage(e,t){s.X3||this.#e.contentWindow?.postMessage(JSON.stringify(e),t??"*")}#t(e){const t=this.getOrigin();if(!(null!==e.source&&e.source!==this.#e?.contentWindow||(0,o.isString)(t)&&t!==e.origin)){try{const t=JSON.parse(e.data);return void(t&&this.onMessage(t,e))}catch(e){}e.data&&this.onMessage(e.data,e)}}}},6564:(e,t,i)=>{i.d(t,{findYouTubePoster:()=>n,resolveYouTubeVideoId:()=>a});const s=/(?:youtu\.be|youtube|youtube\.com|youtube-nocookie\.com)(?:\/shorts)?\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|)((?:\w|-){11})/,o=new Map,r=new Map;function a(e){return e.match(s)?.[1]}async function n(e,t){if(o.has(e))return o.get(e);if(r.has(e))return r.get(e);const i=new Promise((async i=>{const s=["maxresdefault","sddefault","hqdefault"];for(const r of s)for(const s of[!0,!1]){const a=c(e,r,s);if((await fetch(a,{mode:"no-cors",signal:t.signal})).status<400)return o.set(e,a),void i(a)}})).catch((()=>"")).finally((()=>r.delete(e)));return r.set(e,i),i}function c(e,t,i){return`https://i.ytimg.com/${i?"vi_webp":"vi"}/${e}/${t}.${i?"webp":"jpg"}`}},9364:(e,t,i)=>{i.r(t),i.d(t,{YouTubeProvider:()=>n});var s=i(7607),o=i(8933),r=i(2828),a=i(6564);i(1609);class n extends r.h{$$PROVIDER_TYPE="YOUTUBE";scope=(0,s.createScope)();#s;#o=(0,s.signal)("");#r=-1;#a=null;#n=-1;#c=!1;#d=new Map;constructor(e,t){super(e),this.#s=t}language="en";color="red";cookies=!1;get currentSrc(){return this.#a}get type(){return"youtube"}get videoId(){return this.#o()}preconnect(){(0,o.TB)(this.getOrigin())}setup(){super.setup(),(0,s.effect)(this.#h.bind(this)),this.#s.notify("provider-setup",this)}destroy(){this.#u();for(const e of this.#d.values())for(const{reject:t}of e)t("provider destroyed");this.#d.clear()}async play(){return this.#l("playVideo")}#g(e){this.#m("playVideo")?.reject(e)}async pause(){return this.#l("pauseVideo")}#p(e){this.#m("pauseVideo")?.reject(e)}setMuted(e){e?this.#l("mute"):this.#l("unMute")}setCurrentTime(e){this.#l("seekTo",e),this.#s.notify("seeking",e)}setVolume(e){this.#l("setVolume",100*e)}setPlaybackRate(e){this.#l("setPlaybackRate",e)}async loadSource(e){if(!(0,s.isString)(e.src))return this.#a=null,void this.#o.set("");const t=(0,a.resolveYouTubeVideoId)(e.src);this.#o.set(t??""),this.#a=e}getOrigin(){return this.cookies?"https://www.youtube.com":"https://www.youtube-nocookie.com"}#h(){this.#u();const e=this.#o();e?(this.src.set(`${this.getOrigin()}/embed/${e}`),this.#s.notify("load-start")):this.src.set("")}buildParams(){const{keyDisabled:e}=this.#s.$props,{muted:t,playsInline:i,nativeControls:s}=this.#s.$state,o=s();return{rel:0,autoplay:0,cc_lang_pref:this.language,cc_load_policy:o?1:void 0,color:this.color,controls:o?1:0,disablekb:!o||e()?1:0,enablejsapi:1,fs:1,hl:this.language,iv_load_policy:o?1:3,mute:t()?1:0,playsinline:i()?1:0}}#l(e,t){let i=(0,s.deferredPromise)(),o=this.#d.get(e);return o||this.#d.set(e,o=[]),o.push(i),this.postMessage({event:"command",func:e,args:t?[t]:void 0}),i.promise}onLoad(){window.setTimeout((()=>this.postMessage({event:"listening"})),100)}#f(e){this.#s.notify("loaded-metadata"),this.#s.notify("loaded-data"),this.#s.delegate.ready(void 0,e)}#y(e){this.#m("pauseVideo")?.resolve(),this.#s.notify("pause",void 0,e)}#b(e,t){const{duration:i,realCurrentTime:s}=this.#s.$state,o=0===this.#r,r=o?i():e;this.#s.notify("time-change",r,t),!o&&Math.abs(r-s())>1&&this.#s.notify("seeking",r,t)}#v(e,t,i){const s={buffered:new o.zJ(0,e),seekable:t};this.#s.notify("progress",s,i);const{seeking:r,realCurrentTime:a}=this.#s.$state;r()&&e>a()&&this.#k(i)}#k(e){const{paused:t,realCurrentTime:i}=this.#s.$state;window.clearTimeout(this.#n),this.#n=window.setTimeout((()=>{this.#s.notify("seeked",i(),e),this.#n=-1}),t()?100:0)}#w(e){const{seeking:t}=this.#s.$state;t()&&this.#k(e),this.#s.notify("pause",void 0,e),this.#s.notify("end",void 0,e)}#x(e,t){const{paused:i,seeking:s}=this.#s.$state,o=1===e,r=3===e,a=this.#P("playVideo"),n=i()&&(r||o);if(r&&this.#s.notify("waiting",void 0,t),s()&&o&&this.#k(t),this.#c&&o)return this.pause(),this.#c=!1,void this.setMuted(this.#s.$state.muted());if(!a&&n)return this.#c=!0,void this.setMuted(!0);switch(n&&(this.#m("playVideo")?.resolve(),this.#s.notify("play",void 0,t)),e){case 5:this.#f(t);break;case 1:this.#s.notify("playing",void 0,t);break;case 2:this.#y(t);break;case 0:this.#w(t)}this.#r=e}onMessage({info:e},t){if(!e)return;const{title:i,intrinsicDuration:r,playbackRate:a}=this.#s.$state;if((0,s.isObject)(e.videoData)&&e.videoData.title!==i()&&this.#s.notify("title-change",e.videoData.title,t),(0,s.isNumber)(e.duration)&&e.duration!==r()){if((0,s.isNumber)(e.videoLoadedFraction)){const i=e.progressState?.loaded??e.videoLoadedFraction*e.duration,s=new o.zJ(0,e.duration);this.#v(i,s,t)}this.#s.notify("duration-change",e.duration,t)}if((0,s.isNumber)(e.playbackRate)&&e.playbackRate!==a()&&this.#s.notify("rate-change",e.playbackRate,t),e.progressState){const{current:i,seekableStart:s,seekableEnd:a,loaded:n,duration:c}=e.progressState;this.#b(i,t),this.#v(n,new o.zJ(s,a),t),c!==r()&&this.#s.notify("duration-change",c,t)}if((0,s.isNumber)(e.volume)&&(0,s.isBoolean)(e.muted)&&!this.#c){const i={muted:e.muted,volume:e.volume/100};this.#s.notify("volume-change",i,t)}(0,s.isNumber)(e.playerState)&&e.playerState!==this.#r&&this.#x(e.playerState,t)}#u(){this.#r=-1,this.#n=-1,this.#c=!1}#m(e){return this.#d.get(e)?.shift()}#P(e){return Boolean(this.#d.get(e)?.length)}}}}]);